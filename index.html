<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Magical Park ‚Äî R√©servation</title>

  <style>
    :root{
      --bg0:#060713;
      --bg1:#0b1030;
      --bg2:#1a0f3a;
      --glass: rgba(255,255,255,.10);
      --glass2: rgba(255,255,255,.14);
      --stroke: rgba(255,255,255,.18);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.70);

      --blue:#2b7bff;
      --blue2:#48d7ff;
      --pink:#ff52b8;
      --gold:#ffd36a;

      --shadow: 0 18px 60px rgba(0,0,0,.45);
      --shadow2: 0 30px 90px rgba(0,0,0,.65);

      --r1: 22px;
      --r2: 28px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--text);
      background:
        radial-gradient(1100px 700px at 20% 10%, rgba(72,215,255,.18), transparent 55%),
        radial-gradient(900px 700px at 70% 10%, rgba(255,82,184,.18), transparent 55%),
        radial-gradient(900px 700px at 50% 95%, rgba(255,211,106,.16), transparent 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1) 45%, var(--bg2));
      overflow-x:hidden;
    }

    /* ====== Sparkly background ====== */
    .stars, .stars2{
      position:fixed; inset:0;
      pointer-events:none;
      opacity:.55;
      mix-blend-mode: screen;
      background-repeat:repeat;
      animation: drift 180s linear infinite;
      filter: blur(.2px);
      z-index:0;
    }
    .stars{
      background-image:
        radial-gradient(2px 2px at 20px 30px, rgba(255,255,255,.5), transparent 55%),
        radial-gradient(1px 1px at 120px 80px, rgba(255,255,255,.35), transparent 55%),
        radial-gradient(1px 1px at 220px 140px, rgba(255,255,255,.25), transparent 55%);
      background-size: 260px 220px;
    }
    .stars2{
      opacity:.30;
      background-image:
        radial-gradient(2px 2px at 40px 140px, rgba(255,255,255,.30), transparent 55%),
        radial-gradient(1px 1px at 180px 40px, rgba(255,255,255,.22), transparent 55%),
        radial-gradient(1px 1px at 240px 200px, rgba(255,255,255,.18), transparent 55%);
      background-size: 360px 300px;
      animation-duration: 260s;
      filter: blur(.5px);
    }
    @keyframes drift{
      from{ transform: translate3d(0,0,0); }
      to{ transform: translate3d(-1100px, 420px, 0); }
    }

    /* ====== Header ====== */
    header{
      position:sticky;
      top:0;
      z-index:10;
      backdrop-filter: blur(14px);
      background: linear-gradient(180deg, rgba(0,0,0,.38), rgba(0,0,0,.12));
      border-bottom:1px solid rgba(255,255,255,.10);
    }
    .nav{
      max-width:1180px;
      margin:0 auto;
      padding:14px 18px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      user-select:none;
    }
    .logo{
      width:42px; height:42px;
      border-radius:16px;
      background:
        radial-gradient(12px 12px at 30% 30%, rgba(255,255,255,.55), transparent 60%),
        linear-gradient(135deg, rgba(43,123,255,1), rgba(255,82,184,1), rgba(72,215,255,1));
      box-shadow: 0 18px 40px rgba(43,123,255,.18);
      position:relative;
      border:1px solid rgba(255,255,255,.16);
    }
    .logo:after{
      content:"";
      position:absolute; inset:8px;
      border-radius:13px;
      border:1px solid rgba(255,255,255,.20);
    }
    .brand-title{
      line-height:1.05;
    }
    .brand-title b{
      display:block;
      letter-spacing:.18em;
      text-transform:uppercase;
      font-size:12px;
      color: rgba(255,255,255,.88);
    }
    .brand-title span{
      display:block;
      font-size:12px;
      color: var(--muted);
      margin-top:3px;
      letter-spacing:.03em;
    }

    .navlinks{
      display:flex;
      gap:18px;
      align-items:center;
      color: rgba(255,255,255,.78);
      font-size:13px;
    }
    .navlinks a{
      color: rgba(255,255,255,.78);
      text-decoration:none;
      padding:10px 10px;
      border-radius:12px;
      border:1px solid transparent;
      transition: .15s ease;
      white-space:nowrap;
    }
    .navlinks a:hover{
      background: rgba(255,255,255,.06);
      border-color: rgba(255,255,255,.10);
    }
    .right{
      display:flex;
      gap:10px;
      align-items:center;
    }
    .chip{
      display:flex;
      gap:10px;
      align-items:center;
      font-size:12px;
      color: rgba(255,255,255,.78);
      padding:10px 12px;
      border-radius:999px;
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.12);
    }
    .chip i{
      width:9px;height:9px;border-radius:50%;
      background: linear-gradient(135deg, var(--gold), var(--pink));
      box-shadow: 0 0 18px rgba(255,211,106,.45);
      display:inline-block;
    }

    .btn{
      border:0;
      cursor:pointer;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      border-radius: 999px;
      padding: 12px 16px;
      font-weight:800;
      font-size:13px;
      letter-spacing:.02em;
      color: rgba(255,255,255,.92);
      transition: transform .15s ease, filter .15s ease, box-shadow .15s ease;
      display:inline-flex;
      align-items:center;
      gap:10px;
      white-space:nowrap;
    }
    .btn:active{ transform: scale(.98); }
    .btn-primary{
      background: linear-gradient(135deg, rgba(43,123,255,1), rgba(72,215,255,1));
      box-shadow: 0 18px 40px rgba(43,123,255,.20);
    }
    .btn-primary:hover{ filter: brightness(1.05); transform: translateY(-1px); }
    .btn-outline{
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.14);
    }
    .btn-outline:hover{ filter: brightness(1.07); transform: translateY(-1px); }

    @media (max-width: 980px){
      .navlinks{ display:none; }
    }

    /* ====== Main layout ====== */
    main{
      position:relative;
      z-index:1;
      max-width:1180px;
      margin:0 auto;
      padding: 26px 18px 84px;
    }

    /* ====== Hero ====== */
    .hero{
      position:relative;
      border-radius: var(--r2);
      overflow:hidden;
      border: 1px solid rgba(255,255,255,.14);
      background:
        radial-gradient(900px 500px at 30% 30%, rgba(72,215,255,.18), transparent 60%),
        radial-gradient(800px 520px at 80% 40%, rgba(255,82,184,.18), transparent 60%),
        linear-gradient(135deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
      box-shadow: var(--shadow);
      min-height: 470px;
    }

    /* faux ‚Äúimage hero‚Äù + blur motion */
    .hero-bg{
      position:absolute; inset:0;
      background:
        radial-gradient(900px 520px at 75% 45%, rgba(255,255,255,.10), transparent 55%),
        radial-gradient(900px 520px at 20% 40%, rgba(255,255,255,.06), transparent 55%),
        linear-gradient(115deg, rgba(43,123,255,.30), rgba(72,215,255,.15), rgba(255,82,184,.20));
      filter: saturate(1.1);
      transform: scale(1.08);
    }
    .hero-bg:after{
      content:"";
      position:absolute; inset:0;
      background:
        radial-gradient(3px 3px at 60px 70px, rgba(255,255,255,.55), transparent 60%),
        radial-gradient(2px 2px at 220px 160px, rgba(255,255,255,.35), transparent 60%),
        radial-gradient(2px 2px at 420px 90px, rgba(255,255,255,.28), transparent 60%),
        radial-gradient(2px 2px at 720px 200px, rgba(255,255,255,.22), transparent 60%);
      opacity:.55;
      mix-blend-mode: screen;
    }

    /* courbe en bas type ‚Äúsite parc‚Äù */
    .hero-wave{
      position:absolute;
      left:-10%;
      bottom:-65px;
      width:120%;
      height:220px;
      background: radial-gradient(800px 180px at 50% 40%, rgba(255,255,255,.25), transparent 60%);
      filter: blur(18px);
      opacity:.65;
    }

    .hero-inner{
      position:relative;
      padding: 30px 30px 26px;
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap:22px;
      align-items:stretch;
    }
    @media (max-width: 980px){
      .hero-inner{ grid-template-columns:1fr; padding:24px; }
    }

    .kicker{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border-radius:999px;
      background: rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.14);
      color: rgba(255,255,255,.82);
      font-size:12px;
      letter-spacing:.10em;
      text-transform:uppercase;
    }
    .dot{
      width:8px;height:8px;border-radius:50%;
      background: linear-gradient(135deg, var(--gold), var(--pink));
      box-shadow: 0 0 18px rgba(255,211,106,.55);
    }

    .h-title{
      margin:14px 0 10px;
      font-size: clamp(28px, 4.2vw, 54px);
      line-height:1.02;
      letter-spacing:-.02em;
    }
    .h-title span{
      background: linear-gradient(90deg, rgba(255,211,106,1), rgba(255,82,184,1), rgba(72,215,255,1));
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      filter: drop-shadow(0 12px 26px rgba(0,0,0,.22));
    }
    .h-sub{
      margin:0 0 16px;
      color: var(--muted);
      line-height:1.55;
      font-size: 15px;
      max-width: 62ch;
    }

    /* left: promo card */
    .promo{
      margin-top:14px;
      width:min(360px, 100%);
      border-radius: 18px;
      background: rgba(255,255,255,.12);
      border:1px solid rgba(255,255,255,.18);
      box-shadow: 0 18px 40px rgba(0,0,0,.25);
      padding:14px 14px 12px;
    }
    .promo-top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom:10px;
    }
    .promo-top b{
      font-size:13px;
      letter-spacing:.08em;
      text-transform:uppercase;
      color: rgba(255,255,255,.86);
    }
    .price{
      display:flex;
      align-items:baseline;
      gap:6px;
      color: rgba(255,255,255,.92);
    }
    .price strong{ font-size:28px; }
    .price small{ color: rgba(255,255,255,.72); font-weight:700; }

    .promo p{
      margin: 8px 0 10px;
      font-size: 12.5px;
      color: rgba(255,255,255,.70);
      line-height:1.45;
    }
    .promo .btn{
      width:100%;
      justify-content:center;
      border-radius: 14px;
      padding: 12px 14px;
    }

    /* right: ‚Äúcastle‚Äù + quick actions */
    .castle-card{
      border-radius: var(--r2);
      background: rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.14);
      box-shadow: 0 18px 60px rgba(0,0,0,.22);
      overflow:hidden;
      position:relative;
      min-height: 360px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
    }
    .castle-top{
      padding: 18px 18px 0;
    }
    .castle-top h3{
      margin:0 0 6px;
      font-size: 14px;
      letter-spacing:.12em;
      text-transform:uppercase;
      color: rgba(255,255,255,.85);
    }
    .castle-top p{
      margin:0;
      color: rgba(255,255,255,.70);
      font-size: 13.5px;
      line-height:1.5;
    }

    .castle-illu{
      position:relative;
      height: 220px;
      margin: 8px 12px 12px;
      border-radius: 22px;
      background:
        radial-gradient(650px 200px at 50% 100%, rgba(255,255,255,.14), transparent 60%),
        linear-gradient(135deg, rgba(255,82,184,.15), rgba(72,215,255,.12));
      border:1px solid rgba(255,255,255,.14);
      overflow:hidden;
    }
    .castle-illu .shine{
      position:absolute; inset:-60% -40%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.22), transparent);
      transform: rotate(18deg);
      animation: shine 4.8s ease-in-out infinite;
      pointer-events:none;
    }
    @keyframes shine{
      0%{ transform: translateX(-35%) rotate(18deg); opacity:0; }
      35%{ opacity:.7; }
      65%{ opacity:.25; }
      100%{ transform: translateX(45%) rotate(18deg); opacity:0; }
    }
    .castle-illu svg{
      position:absolute; inset:0;
      width:100%; height:100%;
      opacity:.95;
      filter: drop-shadow(0 16px 28px rgba(0,0,0,.32));
    }

    .quickbar{
      background: rgba(0,0,0,.16);
      border-top:1px solid rgba(255,255,255,.12);
      padding: 12px 12px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:space-between;
    }
    .qitem{
      flex:1 1 160px;
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      padding: 12px 12px;
      display:flex;
      gap:10px;
      align-items:flex-start;
    }
    .qicon{
      width:34px;height:34px;border-radius:14px;
      background: linear-gradient(135deg, rgba(255,211,106,.95), rgba(255,82,184,.85));
      box-shadow: 0 14px 30px rgba(255,82,184,.14);
      display:flex;align-items:center;justify-content:center;
      font-weight:900;
      color: rgba(0,0,0,.65);
    }
    .qitem b{ display:block; font-size:12px; letter-spacing:.08em; text-transform:uppercase; }
    .qitem span{ display:block; font-size:12.5px; color: rgba(255,255,255,.70); margin-top:4px; line-height:1.35; }

    /* ====== Booking overlay ====== */
    .overlay{
      position:fixed; inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      padding:18px;
      background: rgba(0,0,0,.72);
      backdrop-filter: blur(8px);
      z-index:50;
    }
    .sheet{
      width: min(980px, 96vw);
      border-radius: 28px;
      background: rgba(16, 14, 30, .92);
      border:1px solid rgba(255,255,255,.20);
      box-shadow: var(--shadow2);
      overflow:hidden;
      position:relative;
    }
    .sheet-head{
      padding: 16px 18px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      background: rgba(255,255,255,.06);
      border-bottom:1px solid rgba(255,255,255,.12);
    }
    .sheet-head b{
      letter-spacing:.12em;
      text-transform:uppercase;
      font-size:12px;
      color: rgba(255,255,255,.82);
    }
    .sheet-close{
      border:1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.10);
      color: rgba(255,255,255,.9);
      border-radius: 14px;
      padding: 10px 12px;
      cursor:pointer;
      font-weight:800;
    }

    .sheet-body{
      padding: 18px;
      display:grid;
      grid-template-columns: 1fr .85fr;
      gap:18px;
    }
    @media (max-width: 980px){
      .sheet-body{ grid-template-columns:1fr; }
    }

    .card{
      border-radius: 24px;
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.14);
      padding:16px;
      position:relative;
      overflow:hidden;
    }
    .card h2{
      margin:0 0 8px;
      font-size: 20px;
      letter-spacing:-.01em;
    }
    .card p{
      margin:0;
      color: rgba(255,255,255,.75);
      line-height:1.5;
      font-size: 14px;
    }

    .steps{
      margin-top:14px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }
    .step{
      padding:10px 12px;
      border-radius:999px;
      background: rgba(0,0,0,.22);
      border:1px solid rgba(255,255,255,.14);
      color: rgba(255,255,255,.80);
      font-size:12px;
      display:flex;
      gap:10px;
      align-items:center;
      letter-spacing:.02em;
    }
    .step i{
      width:10px;height:10px;border-radius:50%;
      background: linear-gradient(135deg, var(--blue2), var(--pink));
      box-shadow: 0 0 18px rgba(72,215,255,.35);
      display:inline-block;
    }

    /* Date picker "roulette" */
    .picker{
      margin-top: 14px;
      border-radius: 22px;
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.12);
      padding: 14px;
    }
    .picker-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom:10px;
    }
    .picker-head b{
      font-size:12px;
      letter-spacing:.12em;
      text-transform:uppercase;
      color: rgba(255,255,255,.82);
    }
    .status{
      font-size:12px;
      color: rgba(255,255,255,.78);
      padding:8px 10px;
      border-radius:999px;
      background: rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.14);
      display:flex;
      align-items:center;
      gap:8px;
      white-space:nowrap;
    }
    .status .s-dot{
      width:8px;height:8px;border-radius:50%;
      background: rgba(255,82,184,1);
      box-shadow: 0 0 18px rgba(255,82,184,.35);
    }
  /* ===== Date picker (mobile friendly snap wheel) ===== */
  .wheelWrap{
    display:grid;
    grid-template-columns: 1fr;
    gap:12px;
  }
  
  /* On enl√®ve les gros boutons sur mobile, on garde optionnel desktop */
  .wheelBtn{ display:none; }
  
  .wheel{
    position:relative;
    height: 210px;
    border-radius: 18px;
    border:1px solid rgba(255,255,255,.14);
    background: rgba(0,0,0,.18);
    overflow:hidden;
  }
  
  /* bande highlight parfaitement centr√©e */
  .wheel:after{
    content:"";
    position:absolute;
    left:12px; right:12px;
    top:50%;
    height:56px;                /* = hauteur d'une ligne */
    transform: translateY(-50%);
    border-radius:14px;
    border:1px solid rgba(255,255,255,.20);
    background: rgba(255,255,255,.10);
    box-shadow: 0 14px 40px rgba(0,0,0,.35);
    pointer-events:none;
  }
  
  /* fade haut/bas */
  .wheel:before{
    content:"";
    position:absolute; inset:0;
    background: linear-gradient(180deg,
      rgba(16,14,30,.95),
      transparent 28%,
      transparent 72%,
      rgba(16,14,30,.95)
    );
    pointer-events:none;
    z-index:2;
  }
  
  /* La liste devient un scroll natif + snap */
  .wheelList{
    position:absolute;
    inset:0;
    z-index:1;
    overflow-y:auto;
    padding: calc(105px - 28px) 0; /* centre la zone active (105=height/2, 28=half item height) */
    scroll-snap-type: y mandatory;
    -webkit-overflow-scrolling: touch;
  }
  
  .wheelList::-webkit-scrollbar{ width: 0; height: 0; }
  
  .wheelItem{
    height:56px;                 /* IMPORTANT: doit matcher wheel:after height */
    width: calc(100% - 24px);
    margin: 10px auto;           /* espace entre lignes */
    padding: 0 14px;
    border-radius: 14px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    color: rgba(255,255,255,.78);
    border:1px solid rgba(255,255,255,.10);
    background: rgba(255,255,255,.04);
    font-weight:800;
    scroll-snap-align: center;
  }
  
  .wheelItem small{
    font-size:12px;
    font-weight:900;
    color: rgba(255,255,255,.62);
  }
  
  /* actif: un peu plus brillant */
  .wheelItem[data-active="true"]{
    background: rgba(255,255,255,.12);
    border-color: rgba(255,255,255,.20);
    color: rgba(255,255,255,.95);
  }
  
  /* Desktop: on peut r√©activer ‚ñ≤‚ñº si tu veux */
  @media (min-width: 900px){
    .wheelWrap{
      grid-template-columns: 46px 1fr 46px;
      align-items:center;
    }
    .wheelBtn{ display:block; height:56px; }
  }

        .ctaRow{
      justify-content: space-between;
    }
    @media (max-width: 520px){
      .ctaRow button{
        flex: 1 1 48%;
      }
    }

    .btn-book{
      background: linear-gradient(135deg, rgba(255,82,184,1), rgba(255,211,106,1));
      box-shadow: 0 18px 40px rgba(255,82,184,.16);
    }
    .btn-book:hover{ filter: brightness(1.06); transform: translateY(-1px); }

    .note{
      margin-top: 10px;
      font-size: 12.5px;
      color: rgba(255,255,255,.70);
      line-height:1.4;
    }

    /* ====== Valentine reveal modal ====== */
    .vOverlay{
      position:fixed; inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      padding:18px;
      background: rgba(0,0,0,.72);
      backdrop-filter: blur(8px);
      z-index:70;
    }
    .vModal{
      width:min(640px, 96vw);
      border-radius: 28px;
      background: rgba(18, 16, 34, .94);
      border:1px solid rgba(255,255,255,.22);
      box-shadow: var(--shadow2);
      overflow:hidden;
      position:relative;
    }
    .vHead{
      padding: 18px 18px 0;
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
    }
    .vHead h2{
      margin:0;
      font-size: 22px;
      letter-spacing:-.01em;
      color: rgba(255,255,255,.95);
      text-shadow: 0 10px 24px rgba(0,0,0,.45);
    }
    .vClose{
      border:1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.12);
      color: rgba(255,255,255,.92);
      border-radius:14px;
      padding:10px 12px;
      cursor:pointer;
      font-weight:900;
    }
    .vBody{
      padding: 12px 18px 18px;
      color: rgba(255,255,255,.90);
      line-height:1.6;
      font-size: 15px;
    }
    .vTicket{
      margin-top: 14px;
      border-radius: 22px;
      border:1px solid rgba(255,255,255,.18);
      background:
        radial-gradient(700px 160px at 50% 0%, rgba(255,82,184,.22), transparent 60%),
        radial-gradient(700px 160px at 50% 100%, rgba(72,215,255,.18), transparent 60%),
        rgba(255,255,255,.06);
      padding: 14px;
    }
    .vTicket b{
      display:block;
      font-size: 12px;
      letter-spacing:.12em;
      text-transform:uppercase;
      color: rgba(255,255,255,.82);
      margin-bottom:8px;
    }
    .vTicket .row{
      display:flex;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }
    .tag{
      padding:10px 12px;
      border-radius:999px;
      background: rgba(0,0,0,.20);
      border:1px solid rgba(255,255,255,.14);
      color: rgba(255,255,255,.85);
      font-weight:900;
      font-size:13px;
      display:inline-flex;
      align-items:center;
      gap:10px;
    }
    .tag i{
      width:9px;height:9px;border-radius:50%;
      background: linear-gradient(135deg, var(--gold), var(--pink));
      box-shadow: 0 0 18px rgba(255,211,106,.45);
      display:inline-block;
    }

    .vActions{
      margin-top: 14px;
      position:relative;
      display:flex;
      flex-wrap:wrap;
      gap:14px;
      align-items:center;
      padding-bottom: 72px; /* r√©serve place pour Non */
      min-height: 120px;
    }
    .btn-yes{
      background: linear-gradient(135deg, rgba(255,82,184,1), rgba(72,215,255,1));
      box-shadow: 0 18px 40px rgba(255,82,184,.18);
      border-radius: 16px;
      padding: 14px 18px;
      font-size: 15px;
    }
    .btn-no{
      background: rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.18);
      box-shadow: 0 14px 30px rgba(0,0,0,.20);
      border-radius: 16px;
      padding: 14px 18px;
      font-size: 15px;

      position:absolute;
      left: 0px;
      top: 70px; /* jamais sur Oui */
    }

    /* Confetti canvas */
    canvas#confetti{
      position:fixed; inset:0;
      pointer-events:none;
      z-index:90;
      display:none;
    }

    /* tiny footer */
    .footer{
      margin-top: 18px;
      color: rgba(255,255,255,.55);
      font-size: 12px;
      text-align:center;
    }
  </style>
</head>

<body>
  <div class="stars"></div>
  <div class="stars2"></div>

  <header>
    <div class="nav">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div class="brand-title">
          <b>MAGICAL PARK</b>
          <span>le parc des moments enchant√©s ‚ú®</span>
        </div>
      </div>

      <nav class="navlinks" aria-label="Navigation">
        <a href="#attractions">Nos mondes</a>
        <a href="#shows">Spectacles</a>
        <a href="#stay">S√©jours</a>
        <a href="#plan">Pr√©parer la visite</a>
      </nav>

      <div class="right">
        <div class="chip"><i></i><span id="today"></span></div>
        <button class="btn btn-outline" id="btnTickets">Billets</button>
        <button class="btn btn-primary" id="btnReserve">R√©server</button>
      </div>
    </div>
  </header>

  <main>
    <section class="hero" aria-label="Accueil">
      <div class="hero-bg" aria-hidden="true"></div>
      <div class="hero-wave" aria-hidden="true"></div>

      <div class="hero-inner">
        <div>
          <div class="kicker"><span class="dot"></span> Offres du moment</div>
          <h1 class="h-title">Entre dans un <span>monde magique</span> ‚ú®</h1>
          <p class="h-sub">
            Une journ√©e, un ch√¢teau, des lumi√®res‚Ä¶ et une surprise cach√©e au moment parfait.
            <b>(Indice : √ßa se passe √† la r√©servation üòâ)</b>
          </p>

          <div class="promo">
            <div class="promo-top">
              <b>H√¥tel + Billets</b>
              <div class="price"><strong>149‚Ç¨</strong><small>/nuit*</small></div>
            </div>
            <p>
              Tarif indicatif. Offre ‚Äúmoment enchant√©‚Äù soumise √† disponibilit√©.
              Certaines dates peuvent √™tre‚Ä¶ <b>sp√©ciales</b> ‚ú®
            </p>
            <button class="btn btn-outline" id="btnDiscover">En savoir plus</button>
          </div>
        </div>

        <div class="castle-card" id="attractions">
          <div class="castle-top">
            <h3>üè∞ Le Ch√¢teau des √âtoiles</h3>
            <p>
              Une silhouette f√©erique, des feux d‚Äôartifice‚Ä¶ et une question que tu n‚Äôoublieras pas üíò
            </p>
          </div>

          <div class="castle-illu" aria-hidden="true">
            <div class="shine"></div>
            <svg viewBox="0 0 900 320" fill="none" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <linearGradient id="g1" x1="0" y1="0" x2="1" y2="1">
                  <stop stop-color="rgba(255,211,106,0.95)"/>
                  <stop offset="0.5" stop-color="rgba(255,82,184,0.85)"/>
                  <stop offset="1" stop-color="rgba(72,215,255,0.8)"/>
                </linearGradient>
                <linearGradient id="g2" x1="0" y1="1" x2="1" y2="0">
                  <stop stop-color="rgba(255,255,255,0.18)"/>
                  <stop offset="1" stop-color="rgba(255,255,255,0.06)"/>
                </linearGradient>
              </defs>
              <circle cx="740" cy="85" r="62" fill="rgba(255,255,255,0.09)"/>
              <circle cx="740" cy="85" r="46" fill="rgba(255,255,255,0.06)"/>
              <path d="M0 250 C180 210, 320 290, 520 250 C700 215, 780 275, 900 240 V320 H0 Z"
                fill="rgba(255,255,255,0.06)"/>
              <path d="M230 260 V165 L285 145 V120 L330 105 V145 L375 120 V145 L420 115 V145 L465 120 V145 L510 105 V145 L555 120 V145 L610 145 V260"
                fill="url(#g2)" stroke="rgba(255,255,255,0.18)"/>
              <path d="M420 260 V125 L450 95 L480 125 V260"
                fill="rgba(255,255,255,0.10)" stroke="rgba(255,255,255,0.18)"/>
              <path d="M275 260 V155 L295 135 L315 155 V260" fill="rgba(255,255,255,0.08)" stroke="rgba(255,255,255,0.16)"/>
              <path d="M585 260 V155 L605 135 L625 155 V260" fill="rgba(255,255,255,0.08)" stroke="rgba(255,255,255,0.16)"/>
              <path d="M450 96 L450 62" stroke="url(#g1)" stroke-width="4" stroke-linecap="round"/>
              <path d="M450 66 C465 66, 470 74, 458 82 C470 84, 465 96, 450 90" fill="url(#g1)" opacity="0.85"/>
              <path d="M295 136 L295 108" stroke="url(#g1)" stroke-width="3" stroke-linecap="round" opacity="0.9"/>
              <path d="M295 110 C305 110, 308 116, 300 122 C308 124, 305 132, 295 128" fill="url(#g1)" opacity="0.75"/>
              <path d="M605 136 L605 108" stroke="url(#g1)" stroke-width="3" stroke-linecap="round" opacity="0.9"/>
              <path d="M605 110 C615 110, 618 116, 610 122 C618 124, 615 132, 605 128" fill="url(#g1)" opacity="0.75"/>
              <path d="M90 120 C170 60, 260 70, 350 40 C470 -5, 570 40, 690 30 C780 22, 820 10, 860 18"
                stroke="url(#g1)" stroke-width="4" stroke-linecap="round" opacity="0.55"/>
              <circle cx="120" cy="100" r="3.5" fill="rgba(255,255,255,0.55)"/>
              <circle cx="360" cy="44" r="3.5" fill="rgba(255,255,255,0.45)"/>
              <circle cx="700" cy="30" r="3.5" fill="rgba(255,255,255,0.45)"/>
            </svg>
          </div>

          <div class="quickbar" id="shows">
            <div class="qitem">
              <div class="qicon">‚ú®</div>
              <div>
                <b>Parade</b>
                <span>Une finale‚Ä¶ qui ressemble √† une d√©claration üíò</span>
              </div>
            </div>
            <div class="qitem">
              <div class="qicon">üéÜ</div>
              <div>
                <b>Nocturne</b>
                <span>Feux d‚Äôartifice + confettis (vraiment)</span>
              </div>
            </div>
            <div class="qitem" id="stay">
              <div class="qicon">üè®</div>
              <div>
                <b>S√©jour</b>
                <span>Une date ‚Äúsp√©ciale‚Äù est disponible‚Ä¶</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div class="footer" id="plan">
      Conseil : clique sur <b>R√©server</b> en haut √† droite‚Ä¶ et laisse-toi guider ‚ú®
    </div>
  </main>

  <!-- Booking sheet -->
  <div class="overlay" id="bookingOverlay" role="dialog" aria-modal="true">
    <div class="sheet">
      <div class="sheet-head">
        <b>R√©servation ‚Äî S√©jour enchant√©</b>
        <button class="sheet-close" id="bookingClose">Fermer</button>
      </div>

      <div class="sheet-body">
        <div class="card">
          <h2>Choisis ta date ‚ú®</h2>
          <p>
            Certaines dates sont tr√®s demand√©es‚Ä¶ et une seule est parfaite pour une surprise de Saint-Valentin üíò
          </p>

          <div class="steps">
            <div class="step"><i></i><span>√âtape 1 ‚Äî Date</span></div>
            <div class="step"><i></i><span>√âtape 2 ‚Äî Confirmation</span></div>
            <div class="step"><i></i><span>√âtape 3 ‚Äî Surprise</span></div>
          </div>

          <div class="picker">
            <div class="picker-head">
              <b>Dates disponibles</b>
              <div class="status" id="status">
                <span class="s-dot"></span><span id="statusText">Complet‚Ä¶ sauf une ‚ú®</span>
              </div>
            </div>

            <div class="wheelWrap">
              <button class="wheelBtn" id="upBtn" aria-label="Monter">‚ñ≤</button>

              <div class="wheel" aria-label="S√©lecteur de date">
                <div class="wheelList" id="wheelList">
                  <!-- items via JS -->
                </div>
              </div>

              <button class="wheelBtn" id="downBtn" aria-label="Descendre">‚ñº</button>
            </div>

            <div class="note" id="note">
              Astuce : fais d√©filer‚Ä¶ tu verras qu‚Äôune seule date a une aura sp√©ciale üíñ
            </div>

            <div class="ctaRow">
              <button class="btn btn-outline" id="fakeTry">V√©rifier disponibilit√©</button>
              <button class="btn btn-book" id="confirmDate">Confirmer</button>
            </div>
          </div>
        </div>

        <div class="card">
          <h2>R√©sum√©</h2>
          <p>
            Offre ‚ÄúMoment enchant√©‚Äù ‚Äî acc√®s au Ch√¢teau des √âtoiles, parade nocturne, et‚Ä¶ une surprise cach√©e üéüÔ∏è‚ú®
          </p>

          <div style="margin-top:14px" class="vTicket">
            <b>Ticket</b>
            <div class="row">
              <div class="tag"><i></i><span id="selDateLabel">Date : ‚Äî</span></div>
              <div class="tag"><i></i><span>Acc√®s : 2 personnes</span></div>
              <div class="tag"><i></i><span>Finale : ‚ú®üíò</span></div>
            </div>
          </div>

          <div class="note" style="margin-top:12px">
            Si la date n‚Äôest pas le <b>14 f√©vrier</b>, c‚Äôest ‚Äúcomplet‚Äù‚Ä¶ (oui oui, m√™me si tu insistes üòà)
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Valentine Modal -->
  <div class="vOverlay" id="vOverlay" role="dialog" aria-modal="true">
    <div class="vModal">
      <div class="vHead">
        <h2>üíñ R√©servation valid√©e‚Ä¶</h2>
        <button class="vClose" id="vClose">Fermer</button>
      </div>

      <div class="vBody">
        <p style="margin:0 0 10px">
          Une derni√®re √©tape avant de finaliser‚Ä¶
        </p>

        <div class="vTicket">
          <b>Invitation sp√©ciale</b>
          <div class="row">
            <div class="tag"><i></i><span>Destination : Ch√¢teau ‚ú®</span></div>
            <div class="tag"><i></i><span>Date : 14 f√©vrier üíò</span></div>
            <div class="tag"><i></i><span>Code : ‚ÄúAMOUR‚Äù</span></div>
          </div>
        </div>

        <div style="margin-top:14px">
          <p style="margin:0 0 10px">
            <b>Question officielle :</b>
          </p>

          <p style="margin:0; font-size:18px">
            Veux-tu √™tre <b>ma Valentine</b> ? üíò‚ú®
          </p>

          <div class="vActions" id="vActions">
            <button class="btn btn-yes" id="yesBtn">Oui, √©videmment üíñ</button>
            <button class="btn btn-no" id="noBtn">Non üôÑ</button>
          </div>

          <p style="margin:10px 0 0; color: rgba(255,255,255,.65); font-size:12.5px">
            Astuce : le bouton ‚ÄúNon‚Äù est‚Ä¶ tr√®s pudique üòà
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Confettis -->
  <canvas id="confetti"></canvas>

  <script>
    // ===== Date du jour dans le header =====
    (function(){
      const d = new Date();
      const opts = { weekday:'long', day:'2-digit', month:'long' };
      document.getElementById('today').textContent = d.toLocaleDateString('fr-FR', opts);
    })();

    // ===== Elements =====
    const btnReserve = document.getElementById('btnReserve');
    const btnTickets = document.getElementById('btnTickets');
    const btnDiscover = document.getElementById('btnDiscover');

    const bookingOverlay = document.getElementById('bookingOverlay');
    const bookingClose = document.getElementById('bookingClose');

    const wheelList = document.getElementById('wheelList');
    const upBtn = document.getElementById('upBtn');
    const downBtn = document.getElementById('downBtn');
    const statusText = document.getElementById('statusText');
    const note = document.getElementById('note');
    const selDateLabel = document.getElementById('selDateLabel');
    const confirmDate = document.getElementById('confirmDate');
    const fakeTry = document.getElementById('fakeTry');

    const vOverlay = document.getElementById('vOverlay');
    const vClose = document.getElementById('vClose');
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const vActions = document.getElementById('vActions');

    // ===== Booking open/close =====
    function openBooking(){
      bookingOverlay.style.display = 'flex';
      // reset
      selectedIndex = 2; // start near middle
      renderWheel();
      updateLabels();
    }
    function closeBooking(){
      bookingOverlay.style.display = 'none';
    }

    btnReserve.addEventListener('click', openBooking);
    btnTickets.addEventListener('click', openBooking);
    btnDiscover.addEventListener('click', openBooking);
    bookingClose.addEventListener('click', closeBooking);
    bookingOverlay.addEventListener('click', (e) => { if(e.target === bookingOverlay) closeBooking(); });

    // ===== Fake wheel dates (only Feb 14 available) =====
    const dates = [
      { label: "10 f√©vrier", avail:false },
      { label: "11 f√©vrier", avail:false },
      { label: "12 f√©vrier", avail:false },
      { label: "13 f√©vrier", avail:false },
      { label: "14 f√©vrier", avail:true  },
      { label: "15 f√©vrier", avail:false },
      { label: "16 f√©vrier", avail:false },
      { label: "17 f√©vrier", avail:false }
    ];

    let selectedIndex = 4; // default: 14 f√©vrier

    const wheel = document.querySelector('.wheelList');

function renderWheel(){
  wheelList.innerHTML = "";
  dates.forEach((d, i) => {
    const el = document.createElement('div');
    el.className = 'wheelItem';
    el.dataset.index = i;
    el.innerHTML = `
      <span>${d.label}</span>
      <small>${d.avail ? "DISPONIBLE ‚ú®" : "COMPLET"}</small>
    `;
    el.addEventListener('click', () => scrollToIndex(i));
    wheelList.appendChild(el);
  });

  // positionne sur l‚Äôindex choisi
  setTimeout(() => scrollToIndex(selectedIndex, true), 0);
}

function scrollToIndex(i, instant=false){
  const items = wheelList.querySelectorAll('.wheelItem');
  const el = items[i];
  if(!el) return;

  // scroll jusqu‚Äô√† ce que l‚Äô√©l√©ment soit centr√©
  el.scrollIntoView({
    block: "center",
    behavior: instant ? "auto" : "smooth"
  });

  selectedIndex = i;
  updateActive();
  updateLabels();
}

function updateActive(){
  const items = wheelList.querySelectorAll('.wheelItem');
  items.forEach((it, idx) => it.dataset.active = (idx === selectedIndex) ? "true" : "false");
}

// D√©tecte quel √©l√©ment est au centre pendant le scroll (mobile-friendly)
let scrollTimer = null;
wheelList.addEventListener('scroll', () => {
  if(scrollTimer) clearTimeout(scrollTimer);
  scrollTimer = setTimeout(() => {
    const items = [...wheelList.querySelectorAll('.wheelItem')];
    const centerY = wheelList.getBoundingClientRect().top + wheelList.getBoundingClientRect().height/2;

    let bestIdx = 0;
    let bestDist = Infinity;

    items.forEach((el) => {
      const r = el.getBoundingClientRect();
      const elCenter = r.top + r.height/2;
      const dist = Math.abs(elCenter - centerY);
      if(dist < bestDist){
        bestDist = dist;
        bestIdx = Number(el.dataset.index);
      }
    });

    selectedIndex = bestIdx;
    updateActive();
    updateLabels();
  }, 80);
});

// Desktop ‚ñ≤‚ñº (si affich√©s)
upBtn.addEventListener('click', () => {
  selectedIndex = (selectedIndex - 1 + dates.length) % dates.length;
  scrollToIndex(selectedIndex);
});
downBtn.addEventListener('click', () => {
  selectedIndex = (selectedIndex + 1) % dates.length;
  scrollToIndex(selectedIndex);
});

    function updateLabels(){
      const d = dates[selectedIndex];
      selDateLabel.textContent = "Date : " + d.label;

      if(d.avail){
        statusText.textContent = "Disponible ‚ú® (oui‚Ä¶ LA date)";
        note.textContent = "Cette date brille un peu plus que les autres‚Ä¶ üíò";
      }else{
        statusText.textContent = "Complet üò≠ (essaie encore)";
        note.textContent = "Complet‚Ä¶ mais il para√Æt qu‚Äôune date sp√©ciale existe üòà";
      }
    }

    upBtn.addEventListener('click', () => {
      selectedIndex = (selectedIndex - 1 + dates.length) % dates.length;
      renderWheel();
      updateLabels();
    });
    downBtn.addEventListener('click', () => {
      selectedIndex = (selectedIndex + 1) % dates.length;
      renderWheel();
      updateLabels();
    });

    fakeTry.addEventListener('click', () => {
      const d = dates[selectedIndex];
      if(d.avail){
        statusText.textContent = "Disponible ‚ú® (r√©servation possible)";
      }else{
        statusText.textContent = "Toujours complet üò≠";
      }
    });

    // ===== Confirm date -> only Feb 14 opens Valentine =====
    function openValentine(){
      vOverlay.style.display = 'flex';
      startConfetti();
      // place "Non" safe position
      noBtn.style.left = '0px';
      noBtn.style.top = '70px';
    }
    function closeValentine(){
      vOverlay.style.display = 'none';
    }

    confirmDate.addEventListener('click', () => {
      const d = dates[selectedIndex];
      if(!d.avail){
        statusText.textContent = "Complet‚Ä¶ (sauf 14 f√©vrier üíò)";
        note.textContent = "D√©sol√©‚Ä¶ seul le 14 f√©vrier est disponible ‚ú®üíò";
        // mini troll: jump to 14
        selectedIndex = 4;
        renderWheel();
        updateLabels();
        return;
      }
      closeBooking();
      openValentine();
    });

    vClose.addEventListener('click', closeValentine);
    vOverlay.addEventListener('click', (e) => { if(e.target === vOverlay) closeValentine(); });

    // ===== ‚ÄúNon‚Äù flees without overlapping ‚ÄúOui‚Äù =====
    function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }

    function moveNoButton(){
      const rect = vActions.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();

      // movement area inside vActions, but keep it under the "yes" row:
      // top start = 62px to prevent overlap with yes area.
      const padding = 8;
      const minX = padding;
      const maxX = rect.width - btnRect.width - padding;

      const minY = 62; // below yes line
      const maxY = rect.height - btnRect.height - padding;

      let x = Math.random() * (maxX - minX) + minX;
      let y = Math.random() * (maxY - minY) + minY;

      noBtn.style.left = clamp(x, 0, rect.width - btnRect.width) + "px";
      noBtn.style.top  = clamp(y, minY, rect.height - btnRect.height) + "px";
    }

    noBtn.addEventListener('mouseenter', moveNoButton);
    noBtn.addEventListener('click', (e) => { e.preventDefault(); moveNoButton(); });
    noBtn.addEventListener('touchstart', (e) => { e.preventDefault(); moveNoButton(); }, {passive:false});

    // ===== Yes -> confetti + success message =====
    yesBtn.addEventListener('click', () => {
      startConfetti();
      alert("üíñ R√©servation confirm√©e !\n\nRendez-vous le 14 f√©vrier‚Ä¶ Valentine valid√©e ‚ú®üè∞");
    });

    // ===== Confettis =====
    const confettiCanvas = document.getElementById('confetti');
    const confetti = { running:false, parts:[], t:0 };

    function resizeCanvas(){
      confettiCanvas.width = window.innerWidth;
      confettiCanvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resizeCanvas);

    function startConfetti(){
      resizeCanvas();
      confettiCanvas.style.display = 'block';
      const ctx = confettiCanvas.getContext('2d');
      confetti.running = true;
      confetti.parts = [];
      confetti.t = 0;

      const colors = [
        [255, 82, 184],
        [72, 215, 255],
        [255, 211, 106],
        [255, 255, 255],
        [43, 123, 255]
      ];

      const count = 200;
      for(let i=0;i<count;i++){
        const c = colors[Math.floor(Math.random()*colors.length)];
        confetti.parts.push({
          x: Math.random()*confettiCanvas.width,
          y: -20 - Math.random()*confettiCanvas.height*0.3,
          vx: (Math.random()-0.5)*4.2,
          vy: 2 + Math.random()*6.8,
          s: 4 + Math.random()*6,
          r: Math.random()*Math.PI,
          vr: (Math.random()-0.5)*0.25,
          a: 0.90,
          col: `rgba(${c[0]},${c[1]},${c[2]},`
        });
      }

      function frame(){
        if(!confetti.running) return;
        confetti.t++;

        ctx.clearRect(0,0,confettiCanvas.width, confettiCanvas.height);

        for(const p of confetti.parts){
          p.x += p.vx;
          p.y += p.vy;
          p.r += p.vr;
          p.vy += 0.02;
          p.a *= 0.995;

          if(p.x < -30) p.x = confettiCanvas.width + 30;
          if(p.x > confettiCanvas.width + 30) p.x = -30;

          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate(p.r);
          ctx.fillStyle = p.col + p.a + ')';
          ctx.fillRect(-p.s/2, -p.s/2, p.s, p.s*0.7);
          ctx.restore();
        }

        if(confetti.t > 240){
          confetti.running = false;
          confettiCanvas.style.display = 'none';
        }else{
          requestAnimationFrame(frame);
        }
      }
      requestAnimationFrame(frame);
    }

    // init wheel
    renderWheel();
    updateLabels();
  </script>
</body>
</html>
